<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porturs LTD - AI Assistant</title>
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-light: #818cf8;
            --primary-dark: #4338ca;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --bg-light: #f9fafb;
            --bg-white: #ffffff;
            --border-color: #e5e7eb;
            --success-color: #059669;
            --warning-color: #d97706;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }
        
        body {
            background-color: var(--bg-light);
            color: var(--text-dark);
            min-height: 100vh;
            line-height: 1.5;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 2rem;
        }
        
        /* Header Styles */
        .header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .logo {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-dark);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .user-status {
            display: flex;
            gap: 0.75rem;
        }
        
        .status-badge {
            font-size: 0.875rem;
            background-color: #f3f4f6;
            color: var(--text-light);
            padding: 0.375rem 0.75rem;
            border-radius: 9999px;
        }
        
        .status-badge .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.375rem;
        }
        
        .status-connecting .status-indicator {
            background-color: var(--warning-color);
        }
        
        .status-connected .status-indicator {
            background-color: var(--success-color);
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
        }
        
        .action-btn {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 0.375rem;
            transition: all 0.2s;
        }
        
        .action-btn:hover {
            background-color: #f3f4f6;
            color: var(--text-dark);
        }
        
        /* Main Content Area */
        .main-content {
            background-color: var(--bg-white);
            border-radius: 0.75rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
        }
        
        .conversations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }
        
        .conversations-title {
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        .conversations-filter {
            display: flex;
            gap: 0.5rem;
        }
        
        .filter-btn {
            background: none;
            border: 1px solid var(--border-color);
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .filter-btn:hover {
            background-color: #f9fafb;
        }
        
        .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .conversation-list {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .conversation-card {
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.2s;
        }
        
        .conversation-card:hover {
            box-shadow: var(--shadow-md);
        }
        
        .conversation-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .conversation-date {
            font-size: 0.875rem;
            color: var(--text-light);
        }
        
        .conversation-id {
            font-size: 0.75rem;
            background-color: #f3f4f6;
            color: var(--text-light);
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
        }
        
        .message {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .message:last-child {
            margin-bottom: 0;
        }
        
        .message-avatar {
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .user-avatar {
            background-color: #dbeafe;
            color: #1d4ed8;
        }
        
        .ai-avatar {
            background-color: #dcfce7;
            color: #047857;
        }
        
        .message-content {
            flex: 1;
        }
        
        .message-author {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .user-author {
            color: #1d4ed8;
        }
        
        .ai-author {
            color: #047857;
        }
        
        .message-text {
            background-color: #f9fafb;
            padding: 0.75rem;
            border-radius: 0.5rem;
            color: var(--text-dark);
        }
        
        /* Sidebar Styles */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .status-card {
            background-color: var(--bg-white);
            border-radius: 0.75rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .status-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }
        
        .pulse-container {
            position: relative;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        
        .pulse-ring {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.5);
            z-index: 10;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .pulse-ring::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(79, 70, 229, 0.3);
            animation: pulse 2s infinite;
        }
        
        .pulse-ring::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(79, 70, 229, 0.2);
            animation: pulse 2s infinite 0.5s;
        }
        
        .pulse-circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(79, 70, 229, 0.1);
            animation: pulse 2s infinite;
        }
        
        .circle-1 {
            width: 100px;
            height: 100px;
            animation-delay: 0.2s;
        }
        
        .circle-2 {
            width: 140px;
            height: 140px;
            animation-delay: 0.4s;
        }
        
        .circle-3 {
            width: 180px;
            height: 180px;
            animation-delay: 0.6s;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.8);
                opacity: 0.8;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.4;
            }
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }
        
        .pulse-status {
            position: absolute;
            font-size: 1rem;
            color: var(--primary-color);
            font-weight: 600;
            z-index: 20;
            background: rgba(255, 255, 255, 0.8);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            white-space: nowrap;
        }
        
        .model-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }
        
        .model-label {
            font-size: 0.875rem;
            color: var(--text-light);
        }
        
        .model-value {
            font-weight: 600;
        }
        
        .model-ready {
            color: var(--success-color);
        }
        
        .model-loading {
            color: var(--warning-color);
        }
        
        /* Chat Input Styles */
        .chat-input-card {
            background-color: var(--bg-white);
            border-radius: 0.75rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
        }
        
        .input-container {
            position: relative;
            margin-bottom: 0.75rem;
        }
        
        .text-input {
            width: 100%;
            background-color: #f9fafb;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 0.75rem 3.5rem 0.75rem 0.75rem;
            font-size: 0.875rem;
            resize: none;
            min-height: 4.5rem;
            max-height: 9rem;
            overflow-y: auto;
            line-height: 1.5;
            padding-right: 3.5rem;
        }
        
        .text-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.2);
        }
        
        .send-btn {
            position: absolute;
            bottom: 0.75rem;
            right: 0.75rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 0.375rem;
            width: 2.25rem;
            height: 2.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .send-btn:hover {
            background-color: var(--primary-dark);
        }
        
        .send-btn:disabled {
            background-color: var(--text-light);
            cursor: not-allowed;
        }
        
        .send-icon {
            transform: rotate(-90deg);
            width: 1.25rem;
            height: 1.25rem;
        }
        
        .input-help {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--text-light);
        }
        
        .shortcut {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .shortcut-key {
            background-color: #f3f4f6;
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
            font-size: 0.7rem;
        }
        
        /* Character count indicator */
        .char-count {
            position: absolute;
            bottom: 0.75rem;
            right: 3.25rem;
            font-size: 0.75rem;
            color: var(--text-light);
            background-color: rgba(255, 255, 255, 0.8);
            padding: 0.125rem 0.375rem;
            border-radius: 0.25rem;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .sidebar {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .user-info {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .user-status {
                flex-wrap: wrap;
            }
            
            .conversations-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .conversations-filter {
                width: 100%;
                justify-content: space-between;
            }
            
            .filter-btn {
                flex: 1;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">Porturs LTD</div>
            <div class="user-info">
                <div class="user-status">
                    <div class="status-badge">
                        <span class="status-indicator"></span>
                        User: <span id="currentUserEmail">Loading...</span>
                    </div>
                    <div class="status-badge status-connecting" id="connectionStatusBadge">
                        <span class="status-indicator"></span>
                        Status: <span id="connectionStatus">Connecting...</span>
                    </div>
                </div>
            </div>
            <div class="header-actions">
                <button class="action-btn" title="Feedback">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                    </svg>
                </button>
                <button class="action-btn" title="Share">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                        <polyline points="16 6 12 2 8 6"></polyline>
                        <line x1="12" y1="2" x2="12" y2="15"></line>
                    </svg>
                </button>
                <button class="action-btn" title="Menu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
            </div>
        </header>
        
        <main class="main-content">
            <div class="conversations-header">
                <h2 class="conversations-title">Conversations</h2>
                <div class="conversations-filter">
                    <button class="filter-btn active">All</button>
                    <button class="filter-btn">Recent</button>
                    <button class="filter-btn">Starred</button>
                </div>
            </div>
            
            <div class="conversation-list" id="conversationList">
                <!-- Conversations will be dynamically inserted here -->
            </div>
        </main>
        
        <aside class="sidebar">
            <div class="status-card">
                <h3 class="status-title">AI Status</h3>
                <div class="pulse-container">
                    <div class="pulse-circle circle-1"></div>
                    <div class="pulse-circle circle-2"></div>
                    <div class="pulse-circle circle-3"></div>
                    <div class="pulse-ring"></div>
                    <div class="pulse-status">Ready</div>
                </div>
                <div class="model-status">
                    <span class="model-label">Models:</span>
                    <span class="model-value model-loading" id="modelStatus">Loading...</span>
                </div>
            </div>
            
            <div class="chat-input-card">
                <div class="input-container">
                    <textarea class="text-input" id="textInput" placeholder="Type your message here..."></textarea>
                    <div class="char-count" id="charCount">0/500</div>
                    <button class="send-btn" id="sendTextBtn" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" class="send-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </button>
                </div>
                <div class="input-help">
                    <div>
                        Press <span class="shortcut"><kbd class="shortcut-key">Enter</kbd> to send</span>
                    </div>
                    <div>
                        Press <span class="shortcut"><kbd class="shortcut-key">Esc</kbd> to interrupt</span>
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        const conversations = [
            {
                id: 1,
                date: "2023-10-15 14:30",
                user_message: "Hello, can you help me with my project?",
                ai_message: "Of course! I'd be happy to help. What kind of project are you working on?"
            },
            {
                id: 2,
                date: "2023-10-15 15:45",
                user_message: "I need to create a responsive website layout.",
                ai_message: "Great! I can assist with that. Are you using CSS frameworks like Bootstrap or Tailwind, or are you writing custom CSS?"
            },
            {
                id: 3,
                date: "2023-10-16 09:20",
                user_message: "I'm using Tailwind CSS. Can you show me an example of a card component?",
                ai_message: "Certainly! Here's an example of a card component using Tailwind CSS: <div class='bg-white rounded-lg shadow-md p-6'>Card content</div>"
            },
            {
                id: 4,
                date: "2023-10-16 11:15",
                user_message: "How do I center a div?",
                ai_message: "You can center a div using flexbox: display: flex; justify-content: center; align-items: center;"
            },
            {
                id: 5,
                date: "2023-10-17 13:40",
                user_message: "What's the difference between let and const?",
                ai_message: "let allows reassignment, while const creates a constant reference that cannot be reassigned."
            },
            {
                id: 6,
                date: "2023-10-18 10:30",
                user_message: "Can you explain async/await in JavaScript?",
                ai_message: "Async/await is syntactic sugar for promises that makes asynchronous code easier to write and read. The async keyword is used to declare an asynchronous function, and await is used to wait for a promise to resolve."
            },
            {
                id: 7,
                date: "2023-10-19 16:45",
                user_message: "How do I handle errors in async functions?",
                ai_message: "You can use try/catch blocks inside async functions to handle errors. Any rejected promise inside the try block will be caught by the catch block."
            }
        ];

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function renderConversations() {
            const conversationList = document.getElementById('conversationList');
            conversationList.innerHTML = '';
            
            conversations.forEach(conv => {
                const card = document.createElement('div');
                card.className = 'conversation-card';
                
                card.innerHTML = `
                    <div class="conversation-header">
                        <div class="conversation-date">${formatDate(conv.date)}</div>
                        <div class="conversation-id">Conversation #${conv.id}</div>
                    </div>
                    <div class="message">
                        <div class="message-avatar user-avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>
                        </div>
                        <div class="message-content">
                            <div class="message-author user-author">User</div>
                            <div class="message-text">${escapeHtml(conv.user_message)}</div>
                        </div>
                    </div>
                    <div class="message">
                        <div class="message-avatar ai-avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"></polygon>
                                <line x1="12" y1="22" x2="12" y2="15.5"></line>
                                <polyline points="22 8.5 12 15.5 2 8.5"></polyline>
                                <polyline points="2 15.5 12 8.5 22 15.5"></polyline>
                                <line x1="12" y1="15.5" x2="12" y2="8.5"></line>
                            </svg>
                        </div>
                        <div class="message-content">
                            <div class="message-author ai-author">AI Companion</div>
                            <div class="message-text">${escapeHtml(conv.ai_message)}</div>
                        </div>
                    </div>
                `;
                
                conversationList.appendChild(card);
            });
        }

        // Simulate status changes
        setTimeout(() => {
            document.getElementById('currentUserEmail').textContent = 'user@example.com';
        }, 1000);
        
        setTimeout(() => {
            document.getElementById('connectionStatus').textContent = 'Connected';
            const statusBadge = document.getElementById('connectionStatusBadge');
            statusBadge.classList.remove('status-connecting');
            statusBadge.classList.add('status-connected');
        }, 2000);
        
        setTimeout(() => {
            const modelStatus = document.getElementById('modelStatus');
            modelStatus.textContent = 'Ready';
            modelStatus.classList.remove('model-loading');
            modelStatus.classList.add('model-ready');
        }, 1500);
        
        // Input and send button functionality
        const textInput = document.getElementById('textInput');
        const sendBtn = document.getElementById('sendTextBtn');
        const charCount = document.getElementById('charCount');
        
        function updateSendButton() {
            const text = textInput.value.trim();
            sendBtn.disabled = text.length === 0;
            
            // Update character count
            charCount.textContent = `${text.length}/500`;
            
            // Change color if approaching limit
            if (text.length > 450) {
                charCount.style.color = '#d97706'; // warning color
            } else if (text.length > 480) {
                charCount.style.color = '#dc2626'; // error color
            } else {
                charCount.style.color = 'var(--text-light)';
            }
        }
        
        textInput.addEventListener('input', updateSendButton);
        
        sendBtn.addEventListener('click', function() {
            const input = document.getElementById('textInput');
            if (input.value.trim() !== '') {
                alert('Message sent: ' + input.value);
                input.value = '';
                updateSendButton();
                
                // Briefly change pulse status when sending
                const pulseStatus = document.querySelector('.pulse-status');
                const originalStatus = pulseStatus ? pulseStatus.textContent : 'Ready';
                if (pulseStatus) {
                    pulseStatus.textContent = 'Processing...';
                    setTimeout(() => {
                        pulseStatus.textContent = originalStatus;
                    }, 1500);
                }
            }
        });
        
        textInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault(); // Prevent newline
                if (!sendBtn.disabled) {
                    sendBtn.click();
                }
            }
        });

        // Add filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                // In a real app, you would filter conversations here
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            renderConversations();
            updateSendButton(); // Initialize send button state
        });
    </script>
</body>
</html>